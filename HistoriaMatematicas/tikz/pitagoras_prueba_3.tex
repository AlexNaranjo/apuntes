\newcommand{\pythagwidth}{3cm}
\newcommand{\pythagheight}{2cm}

\begin{tikzpicture}

  \coordinate [label={below left:$A$}] (A) at (0, 0);
  \coordinate [label={above left:$B$}] (B) at (0, \pythagheight);
  \coordinate [label={below right:$C$}] (C) at (\pythagwidth, 0);

  \coordinate [label={above:$D1$}](D1) at (\pythagheight, \pythagheight + \pythagwidth);
  \coordinate [label={above right:$D2$}] (D2) at (\pythagheight + \pythagwidth, \pythagwidth);

  \draw [very thick] (A) -- (C) -- (B) -- (A);

  \newcommand{\ranglesize}{0.3cm}
  \draw (A) -- ++ (0, \ranglesize) -- ++ (\ranglesize, 0) -- ++ (0, -\ranglesize);

  \draw [dashed] (A) -- node [below] {$b$} ++ (\pythagwidth, 0)
            -- node [left] {$b$} ++ (0, -\pythagwidth)
            -- node [above] {$b$} ++ (-\pythagwidth, 0)
            -- node [right] {$b$} ++ (0, \pythagwidth);

  \draw [dashed] (A) -- node [left] {$c$} ++ (0, \pythagheight)
            -- node [below] {$c$} ++ (-\pythagheight, 0)
            -- node [right] {$c$} ++ (0, -\pythagheight)
            -- node [above] {$c$} ++ (\pythagheight, 0);

  \draw [dashed] (C) -- node [above right] {$a$} (B)
                     -- node [below right] {$a$} (D1)
                     -- node [below left] {$a$} (D2)
                     -- node [above left] {$a$} (C);

   \draw [fill, opacity = 0.2, color = blue] (C) -- (-\pythagheight, \pythagheight) -- (B) -- (C);
   \draw [fill, opacity = 0.2, color = blue] (A) -- (D1) -- (B) -- (A);

   \draw [fill, opacity = 0.2, color = green] (A) -- (-\pythagheight, 0) -- (-\pythagheight, \pythagheight) -- (A);

   \draw [dashed] (A) -- (2.9,4.4);

   \draw [fill, green, opacity = 0.2] (D1) -- (0.9,1.3) -- (2.9,4.4) -- (D1);

   \coordinate [label={above:$D3$}](D3) at (2.9,4.4);

\end{tikzpicture}