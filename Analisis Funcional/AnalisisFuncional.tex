\documentclass[palatino,nochap]{apuntes}

\title{Análisis Funcional}
\author{Guillermo Julián Moreno}
\date{15/16 C2}

% Paquetes adicionales
\usepackage{enumitem}
\usepackage{xfrac}
\usepackage{fancysprefs}
\usepackage{tikztools}

\setlist{itemsep=1pt, topsep=5pt}
\bibliographystyle{plainnat}
% --------------------

\begin{document}
\pagestyle{plain}
\maketitle

\tableofcontents
\newpage
% Contenido.

\section{Espacios métricos completos}

A lo largo de este curso, vamos a tratar de estudiar las funciones analíticamente, dando una estructura a espacios de funciones y manejándolas de forma abstracta. Una de esas formas en las que van a aparecer los espacios de funciones es la de espacios métricos. Por eso, como introducción a la asignatura veremos ciertos conceptos de topología sobre espacios métricos abstractos que nos servirán más adelante.

\begin{defn}[Métrica] Una métrica $\dst$ en un espacio $X$ es una función $\appl{\dst}{X×X}{ℝ^+}$ que cumple las siguientes propiedades: \begin{enumerate}
\item Simetría: $∀x,y ∈ x$ tenemos que $\dst (x,y) = \dst(y,x)$.
\item Positividad: $\dst(x,y) = 0$ si y sólo si $x = y$. En otros términos, $\dst(x,y) > 0$ siempre que $x ≠ y$.
\item Desigualdad triangular: $∀x,y,z ∈ X\; \dst(x,z) ≤ \dst(x,y) + \dst(y,z)$.
\end{enumerate}
\end{defn}

\begin{defn}[Espacio\IS métrico] Un espacio topológico \stopl es un espacio métrico si la topología \topl está dada por una métrica $\dst$. Es decir, que $U ⊂ X$ es abierto ($U ∈ \topl$) si y sólo si $∀x ∈ U\; ∃δ>0$ con $\bola_δ(x) ⊂ U$, siendo $\bola_δ(x)$ la bola abierta\footnote{Por recordar, $\bola_r(x_0) = \set{x ∈ X \tq \dst(x,x_0) < r}$.} de radio δ centrada en $x$.
\end{defn}

Sobre espacios métricos podemos definir sucesiones, y a su vez ver cuáles de estas convergen para encontrar el espacio métrico completo. Normalmente, la definición de convergencia requiere saber el límite y demostrar que la sucesión converge a él.

\begin{defn}[Sucesión\IS convergente] Sea $\set{x_n}_{n≥1}$ una sucesión en un espacio métrico \sdst. Entonces diremos que $x_n$ tiene límite $x$ (equivalentemente, $\lim_{n\to ∞} x_n = x$) si $∀ε > 0$ existe un $N > 0$ tal que si $n ≥ N$ entonces $\dst(x,x_n) < ε$ o, en otras palabras, que $x_n ∈ \bola_ε (x)$.
\end{defn}

\begin{prop} Dado \sdst un espacio métrico, se cumple que si $x_n \convs x,y$, entonces $x = y$ (es decir, el límite es único). De forma equivalente, se cumple que la topología \topl inducida por la métrica es Hausdorff\footnote{Recordando Topología \citep{ApuntesTopologia}: Si $x≠y$ hay entornos de $x$ e $y$ con intersección vacía. En este caso, se demuestra como consecuencia de la desigualdad triangular.}.
\end{prop}

Sin embargo, hay otra noción de convergencia que podemos usar y que es más fácil de manejar, basada en sucesiones de Cauchy.

\begin{defn}[Sucesión\IS de Cauchy] \label{def:SucesionCauchy} Sea $\set{x_n}_{n≥1}$ una sucesión en un espacio métrico \sdst. Diremos que es de Cauchy si $∀ε> 0$ existe un $N ∈ ℕ$ tal que dados $m,n ≥N$, entonces $\dst(x_m, x_n) < ε$.
\end{defn}

Lo interesante de esta definición es que es ``bastante'' equivalente a la definición de convergencia.

\begin{prop} Si una sucesión $\set{x_n}_{n≥1}$ tiene límite, entonces es de Cauchy.
\end{prop}

\begin{proof} Sea $x = \lim_{n \to ∞} x_n$. Entonces, $∀ε > 0$ existe un $N > 0$ tal que si $n≥N$ entonces $\dst(x_n, x) ≤ \sfrac{ε}{2}$. Si tomamos $m,n≥N$, entonces usando la desigualdad triangular tenemos que $\dst(x_m, x_n) ≤ \dst(x_m, x) + \dst(x, x_n) ≤ ε$.
\end{proof}

Lo de ser ``bastante'' equivalente viene porque según el espacio que consideremos, no siempre se cumple que las sucesiones de Cauchy tengan límite. Sí se cumple lo siguiente:

\begin{prop} Si \sdst es un espacio métrico y $x_n$ es una sucesión de Cauchy en $X$, entonces $x_n$ tiene a lo más un punto de acumulación en $X$.
\end{prop}

En cierto sentido, si tenemos sucesiones de Cauchy que no convergen en el espacio, es como si nos faltase algo: sabemos que esas sucesiones convergen a algo que se nos ha quedado fuera. En general, buscaremos trabajar con espacios en los que esto no ocurra.

\begin{defn}[Espacio\IS métrico completo] Un espacio métrico \sdst se dice completo si toda sucesión de Cauchy tiene exactamente un punto de acumulación. En otras palabras, si toda sucesión de Cauchy converge en el espacio.
\end{defn}

Por ejemplo, $ℝ$ con la distancia habitual es completo (toda sucesión de Cauchy en $ℝ$ tiene límite en $ℝ$). Sin embargo, si tomásemos los racionales con la misma métrica no sería completo (es trivial hacer una sucesión de racionales que converja a un número real).

También es importante ver que la noción de convergencia es métrica, no topológica. Por ejemplo, $(0,1)$ y $ℝ$ son homeomorfos pero $(0,1)$ no es un espacio completo.

Un ejemplo muy simple de espacio métrico $(ℝ^n, \dst(x,y) = \norm{x-y})$, que es completo. Una pequeña variante sería tomar $ℂ^n$, pero nada cambiaría esencialmente.

Podemos construir espacios algo menos triviales. Sea $[a,b] ⊂ ℝ$ un intervalo cerrado y acotado. Consideramos $(C_{[a,b]}, \dst(f,g) = \norm{f-g}_∞)$ el espacio de funciones continuas de $[a,b]$ a $ℂ$ con la norma del supremo (esto es, $\norm{f}_∞ = \sup_{x ∈ [a,b]} \abs{f}$). Este es un espacio métrico completo. Además, se daría que $f_n \convs f$ en este espacio si y sólo si $\norm{f-f_n}_∞ \convs 0$ o, en otras palabras, si $f_n \convs f$ uniformemente en $[a,b]$.

Un concepto relacionado con el de completitud es del de densidad.

\begin{defn}[Conjunto\IS denso] Dado un espacio métrico \sdst y sea $Y ⊂ X$. Se dice que $Y$ es denso si para cualquier $x∈X$ y $∀ε > 0$ se cumple que $\bola_ε(x) ∩ Y ≠ ∅$.
\end{defn}

Como ejemplo canónico, $ℚ$ es denso en $ℝ$. También podemos ver que con $x_0 ∈ X$, entonces $Y = \set{x_0}^c = ℝ \setminus \set{x_0}$ es un abierto denso en $ℝ$.

Vamos ahora con unas cuantas definiciones útiles para categorizar conjuntos en espacios topológicos.

\begin{defn}[Conjunto\IS $F_σ$] Dado un espacio topológico \stopl y un conjunto $Y ⊂ X$, se dice que $Y$ es $F_σ$ si es una unión numerable de cerrados.
\end{defn}

\begin{defn}[Conjunto\IS $G_δ$] \label{def:ConjuntoGDelta} Dado un espacio topológico \stopl y un conjunto $Y ⊂ X$, se dice que $Y$ es $G_δ$ si es una intersección numerable de abiertos.
\end{defn}

Como observación, es fácil ver\footnote{Consecuencia de las leyes de DeMorgan.} que $Y ⊂ X$ es un $F_σ$ si y sólo si $Y^c$ es $G_δ$.

\begin{defn}[Conjunto\IS diseminado] Dado \sdst un espacio métrico y $Y⊂ X$, se dice que es residual o diseminado si $\adh{X}^c$ es denso en $X$.
\end{defn}

\begin{defn}[Conjunto\IS de 1ª categoría de Baire] Dado \sdst un espacio métrico y $Y⊂ X$, se dice que $Y$ es de 1ª categoría de Baire si $Y$ es una unión numerable de conjuntos diseminados.
\end{defn}

\begin{defn}[Conjunto\IS de 2ª categoría de Baire] Dado \sdst un espacio métrico y $Y⊂ X$, se dice que $Y$ es de 2ª categoría de Baire si no es de 1ª categoría.
\end{defn}

Con esto, vamos a por el teorema más importante de este tema.

\begin{theorem}[Teorema\IS de categoría de Baire] \label{thm:CategoriaBaire} Sea \sdst un espacio métrico completo. Entonces:

\begin{enumerate}
\item Si $\set{X_n}_{n≥1}$ es una colección numerable de subconjuntos de $X$ abiertos y densos, entonces la intersección de todos ellos es un $G_δ$ denso en $X$.
\item $X$ es de segunda categoría. En particular, ningún espacio métrico completo se puede escribir como unión numerable de conjuntos diseminados.
\end{enumerate}
\end{theorem}

\begin{proof} Empezamos con la primera sentencia. Dados $x ∈ X$ y $ε > 0$, tenemos que probar\footnote{Complicándonos un poco la vida, porque no sabemos cuál es la intersección de todos los $X_n$ y por lo tanto no podemos ver directamente si es densa o no. Por ejemplo, podría ocurrir que la intersección de dos $X_n$ fuese vacía, así que no podemos decir simplemente que $\bola_ε(x) ∩ W$ es no vacía porque es no vacía con cada uno de los $X_n$.} que $\bola_ε(x) ∩ W ≠ ∅$, siendo $W = \bigcap X_n$; esto es, que $W$ es denso en $X$.

Como $X_1$ es abierto y denso, entonces su intersección con $\bola_ε(x)$ es un abierto (por ser ambos abiertos) y no vacío (por ser $X_1$) denso. En este caso, existe un $x_1 ∈ X_1 ∩ \bola_ε(x)$. Además, por ser esa intersección abierta, existe un $r_1 > 0$ tal que $\adh{\bola_{r_1}(x_1)} ⊂ X_1 ∩ \bola_ε(x)$. Podemos suponer además $r_1 < 1$ (si no lo fuera, tomamos $r_1' = 0.5 · \min\set{1,r_1}$).

De nuevo, como $X_2$ es abierto y denso, $X_2 ∩ \bola_{r_1}(x_1)$ es abierto y no vacío; y por lo tanto existen $x_2 ∈ X_2 ∩ \bola_{r_1}(x_1)$ y un $r_2 ∈ (0, \min\set{r_1, \sfrac{1}{2}})$ de modo que $\adh{\bola_{r_2}(x_2)} ⊂ X_2 ∩ \bola_{r_1}(x_1)$. Tras $n$ pasos análogos, elegimos puntos $x_1, \dotsc, x_n$ y radios $r_1, \dotsc, r_n$ que cumplen que $0 < r_i < \min\set{r_{i-1}, \sfrac{1}{i}}$ y con $\adh{\bola_{r_n}(x_n)} ⊂ X_n ∩ \bola_{r_{n-1}} (x_n)$.

Aquí entra en juego el axioma de elección: de momento hemos cogido $n$ puntos pero queremos asumir que podemos cogerlos para toda la sucesión infinita.

Si cogemos dos índices $i,j > n$, entonces sabemos que $x_i,x_j ∈ \bola_{r_n}(x_n)$, y por lo tanto que $\dst(x_i, x_j) < r_n$. Esto nos lleva a que la sucesión $\set{x_n}_{n≥1}$ es de Cauchy, y por ser \sdst completo el límite de la sucesión existe: $x_n \convs x'$.

Como $x_i ∈ \adh{\bola_{r_n}(x_n)}\;∀i>n$, entonces $x'$ ha de estar en la intersección de todas las $\adh{\bola_{r_n}(x_n)}$, que en particular están metidas dentro de $X_n$. Por lo tanto, $x' ∈ \bigcap X_n = W$ y $x'∈\bigcap \adh{\bola_{r_n}}(x_n)$.

Además, como $x' ∈ \adh{\bola_{r_1}(x_1)} ⊂ \bola_ε(x)$ lo que nos queda es que $\bola_ε(x) ∩ W ≠ ∅$ y por lo tanto la intersección de todos los $X_n$ es no vacía.
\end{proof}

\begin{corol} En un espacio métrico completo, la intersección de cualquier familia numerable de conjuntos $G_δ$ densos es otro $G_δ$ denso.
\end{corol}


\begin{proof} Sea $W ⊂ X$ un $G_δ$ y por lo tanto de la forma $W = \bigcap X_n$, con $X_n ⊂ X$ abiertos. Si $\set{W_n}_{n≥1}$ es una familia numerable de $G_δ$ en $X$ de la forma $W_m = \bigcap X_{m,n}$ abiertos, entonces simplemente vemos que \[\bigcap_{n≥1} W_n = \bigcap_{m≥1} \bigcap_{n≥1} X_{m,n} = \bigcap_{(m,n) ∈ ℕ×ℕ} X_{m,n} \], y como $ℕ×ℕ$ es numerable entonces el \nlref{thm:CategoriaBaire} nos dice que esa intersección es densa si lo es cada uno de esos conjuntos $W_n$.
\end{proof}

Una aplicación de esto es que nos permite probar la existencia de una función $f ∈ C_{[0,1]}$ no diferenciable en ningún punto $x ∈ [0,1]$. De hecho, hay un $G_δ$ denso en $C_{[0,1]}$ con esas características. Para ello, tomamos el espacio $C_{[0,1]}$ con la distancia del supremo.

En otras palabras, lo que podemos decir con eso es que las funciones diferenciables son un conjunto despreciable (en el sentido topológico) dentro de todas las funciones continuas. Sin embargo, necesitaremos ver algunos conceptos nuevos para poder demostrarlo.

\begin{defn}[Función\IS uniformemente continua] Sea \sdst un espacio métrico y $\appl{f}{X}{ℂ}$ continua. $f$ se dice uniformemente continua si y sólo si $∀ε>0$ existe un $δ>0$ tal que $\dst(x,y) < δ \implies \abs{f(x) - f(y)} <ε$, con δ escogido independientemente de $x$ e $y$.
\end{defn}

\begin{defn}[Familia\IS uniformemente equicontinua] \label{def:FamiliaUnifEquicont} Sea \sdst métrico y $\mathcal{F} ⊂ C(X)$ una familia de funciones continuas en $X$. Entonces $\mathcal{F}$ es una familia equicontinua si $∀ε>0\;∃δ>0$ tal que si $\dst(x,y) < δ$, entonces $\abs{f(x) - f(y)} < ε$ para toda función $f ∈ \mathcal{F}$.
\end{defn}

Vamos a hacer ahora la demostración rigurosa de esa proposición.

\begin{prop} Hay un conjunto $G_δ$ denso de funciones $f ∈ C_{[0,1]}$ no diferenciables en ningún punto.
\end{prop}

Para la demostración, necesitamos un lema previo:

\begin{lemma}\label{lem:ConvUnifConDiferenciables} Sea $f ∈ C_{[0,1]}$. Entonces existe una sucesión $\set{f_j}_{j≥1} ⊂ C^1_{[0,1]}$ (funciones continuas y diferenciables) con $\norm{f_j'}_∞ ≤ Cj$, con $0 < C < ∞$ independiente de $j$, y además $f_j \to f$ uniformemente.
\end{lemma}

\begin{proof}
Fijamos $η ∈ C_c^1(ℝ)$ (continua, derivable y de soporte compacto) y con $\int η = 1$. Consideramos \[ η_j (x) = jη(jx) \], y entonces definimos $f_j = \bar{f} * η_j$, con $\bar{f}$ una extensión de $f$ a una función continua y de soporte compacto en $ℝ$.

Es fácil ver que $f_j$ cumple las propiedades pedidas: es derivable (la derivada la podemos ``cargar'' a las $η_j$) y converge a $f$ por ser $η_j$ una familia de aproximaciones de la identidad\footnote{Ver \citep[Def. III.11]{ApuntesVarReal}: se trata de una familia de funciones con soporte cada vez más comprimido que convergen a la delta de Dirac, y que por lo tanto $f * η_j \convs[][j] f$.}.
\end{proof}

\begin{proof} Para $n = 1,2,\dotsc$ podemos construir conjuntos de la forma \[ E_n = \set{f∈ C_{[0,1]} \tq ∃t ∈ [0,1]\,, \abs{f(t) - f(s)} ≤ n\abs{t-s}\; ∀t,s ∈ [0,1]} \]

% TODO: Cambiar t-t_0 por t-s para que quede claro qué estamos haciendo.
Si $f ∈ C_{[0,1]}$ y es diferenciable en algún $t_0 ∈ (0,1)$, entonces $f ∈ E_n$ para algún $n$, ya que entonces existe un $δ>0$ tal que $\bola_δ(t_0) ⊂ [0,1]$, y por lo tanto si tomamos otro $t ∈ \bola_δ(t_0)\setminus\set{t_0}$, entonces la derivada existe y por lo tanto podemos acotar \[ \abs{\frac{f(t) - f(t_0)}{t - t_0}} ≤ M \implies \abs{f(t) - f(t_0)} ≤ M \abs{t-t_0} \]

Por otra parte, si $t ∉ \bola_δ(t_0)$, entonces $\abs{t-t_0} ≥ δ > 0$ y podemos acotar igualmente usando la norma del supremo (como las funciones son continuas en un compacto, la norma del supremo es finita) \[ \abs{\frac{f(t) - f(t_0)}{t-t_0}} ≤ \frac{2 \norm{f}_∞}{δ} \]

Juntando ambas cosas y tomando el máximo de las cotas, lo que hemos hecho ha sido demostrar que cualquier función que sea diferenciable en al menos un punto se puede acotar y por lo tanto que está en algún $E_n$ para un $n > \max \set{M, \frac{2\norm{f}_∞}{δ}}$.

Así, lo que tenemos es que el conjunto de funciones diferenciables en algún punto es un subconjunto de $\bigcup_{n≥1}E_n$.

Con esto, lo que vamos a ver es que los $E_n$ son cerrados y diseminados en $C_{[0,1]}$, y por lo tanto $E_n^c$ es un abierto denso.

Para demostrar que $E_n$ es cerrado, tomamos $\set{f_j}_{j≥1}$ una sucesión en $E_n$ y $f_j \convs[][j] f$ en $C_{[0,1]}$. Queremos comprobar que $f ∈ E_n$, y para ello vemos primero que esa sucesión es una \nlref{def:FamiliaUnifEquicont}, esto es, que $∀ε > 0$ existe un $δ > 0$ tal que si $\abs{t-s} < δ$, entonces $\abs{f_j(t) -f_j(s)} < ε$ para cualquier $j$. Esto lo demostraremos más tarde.

Como $f_j ∈ E_n$, $∃t_j ∈ [0,1]$ tal que $\abs{f_j(x) -f_j(t_j)} ≤ n\abs{x-t_j}\;∀x ∈ [0,1]$. Como $[0,1]$ es compacto, existe una subsucesión $\set{t_{j_k}}$ convergente a un cierto $t_0 ∈ [0,1]$. Consideramos entonces la subsucesión $g_k = f_{j_k}$, que tiene que converger a $f$ igual que lo hace $f_j$. Lo que hemos ganado es que en este caso los puntos $s_k = t_{j_k}$ convergen igualmente.

Con esto podemos tratar de evaluar la diferencia entre $f(x)$ y $f(t_0)$. Podemos reescribirlo simplemente sumando y restando cosas, y después aplicando la desigualdad triangular: \begin{align*} &\hspace{-20pt}\abs{f(x) -f(t_0)} = \\
&=\abs{f(x) - g_k(x) + g_k(x) - g_k(s_k) + g_k(s_k) - g_k(t_0) + g_k(t_0) - f(t_0)} \\
&≤
	\underbracket{\abs{f(x) - g_k(x)}}_{≤\norm{f-g_k}_∞}
+ 	\underbracket{\abs{g_k(x) - g_k(s_k)}}_{≤n\abs{x-s_k}}
+	\underbracket{\abs{g_k(s_k) -g_k(t_0)}}_{}
+ 	\underbracket{\abs{g_k(t_0) - f(t_0)}}_{≤\norm{f-g_k}_∞} \\
&≤
	\underbracket{2\norm{f-g_k}_∞}_{\to 0\; (g_k \to f\text{ unif.})}
+ 	\underbracket{\abs{g_k(s_k) - g_k(t_0)}}_{\to 0}
+ 	\underbracket{n\abs{x-s_k}}_{\to n\abs{x-t_0}} \\
& \convs[][k] n\abs{x - t_0}
\end{align*}, donde para decir que $\abs{g_k(s_k) - g_k(t_0)}$ usamos la equicontinuidad de la sucesión de funciones: sabemos que $∀ε > 0\;∃δ>0$ tal que si $\abs{x-t} < δ$ entonces $\abs{g_k(x) - g_k(t)} < ε$; por lo que si fijamos un $ε > 0$, como $s_k \to 0$ entonces $\abs{s_k - t_0} < δ$ para un $k$ lo suficientemente grande y finalmente $\abs{g_k (s_k) - g_k(t_0)} < ε$, por lo que haciendo tender ε a $0$ ya tenemos que esa resta se va a cero igualmente.

Resumiendo: hemos probado que $\abs{f(x) - f(t_0)} \to n\abs{x-t_0}$, por lo que ese límite $f$ estará en $E_n$ igualmente, así que los $E_n$ son cerrados y por lo tanto sus complementarios $E_n^c$ son abiertos.

Ahora consideramos $φ(x)$ la función que nos da la distancia de $x$ al entero más próximo. Analícamente, sería una función períodica de período uno que podemos definir en $[0,1]$ como \[ φ(x) = \begin{cases} x & 0 ≤ x ≤ \sfrac{1}{2} \\ \frac{1}{2} -x & \sfrac{1}{2} ≤ x ≤ 1 \end{cases} \]

Para $λ>0$, sea $φ_λ (x) = \frac{1}{λ} φ(λ^2x)$, que cumple que $\norm{φ_λ}_∞ ≤ \frac{1}{2λ}\;∀λ>0$. Consideraremos entonces la sucesión $\tilde{f}_j = f_j + φ_{λ_j}$ con $λ_j \to ∞$ adecuadamente elegida.

\end{proof}

Ejemplo de módulo de continuidad y funciones Hölder continuas.

\section{Espacios de Banach}

\subsection{Teorema de la acotación uniforme}

\subsection{Teorema de la aplicación abierta}

\subsection{Teorema de la gráfica cerrada}

\subsection{Teorema de Hahn-Banach}

\section{Dualidad en espacios de Banach}

\subsection{Dual y bidual de un espacio de Banach}

\subsection{Reflexividad}

\section{Topologías débiles en espacios de Banach}

\subsection{Teorema de Banach-Alaouglu}

\section{Espacios de Hilbert}

\subsection{Ortogonalidad y método Gram-Schmidt}

\subsection{Teorema de la proyección ortogonal}

\subsection{Aproximación óptima en convexos}

\subsection{Dualidad en espacios de Hilbert}

\subsubsection{Teoremas de representación}

\subsection{Bases ortonormales y series de Fourier}

\section{Teoría espectral de operadores en espacios de Hilbert}

\subsection{Operadores autoadjuntos}

\subsection{Operadores compactos}

\subsection{Teorema espectral para operadores autoadjuntos y compactos}

\subsubsection{Alternativa de Fredholm}

%% Apéndices (ejercicios, exámenes)
\appendix

\chapter{Ejercicios}
\input{tex/AnalisisFuncional_Ejs.tex}

\nocite{brezis2010functional,reed1980methods,rudin1991functional,ApuntesVarReal}
\bibliography{../Apuntes}{}

\printindex
\end{document}
