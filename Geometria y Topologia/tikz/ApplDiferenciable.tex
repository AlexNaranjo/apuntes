\begin{tikzpicture}[scale = 0.6]
\draw[blue] plot[smooth, tension = 0.7] coordinates {(0,0) (1,4) (4,3.5) (6, 4.1) (5, -1) (2,0.4) (0,0)};

\node[blue] at (4,4) {$M$};

\draw[red] (9,0) to[bend left] (9,3) to[bend left] (14,3) node[above] {$N$} to[bend right] (14, 0) to[bend right] (9,0);

\draw[thick, ->] (6.2, 2) to[bend left] node[midway, above] {$f$} (8.5,2);

\coordinate (P) at (3,2);
\coordinate (Q) at (11.5,2);

\draw[blue, pattern color = blue, pattern = north east lines] (P) ellipse (1cm and 1.3cm);
\draw[red, pattern color = red, pattern = north east lines] (Q) ellipse (1.2cm and 0.6cm);

\node[nodepoint, label={below:$p$}] at (P) {};
\node[nodepoint, label={below:$q$}] at (Q) {};

\draw[blue, thick] (3, -4) circle[radius = 1cm];
\draw[red, thick] (11.5, -4) circle[radius = 1cm];

\draw[->, blue] (3, 0.9) -- node[midway, left] {$\varphi_U$} (3,-2.8);
\draw[->, red] (11.5, 0.9) -- node[midway, left] {$\varphi_V$} (11.5,-2.8);

\node[blue] at (1.8, -3) {$\mathbb{B}^m$};
\node[red] at (10.3, -3) {$\mathbb{B}^n$};

\draw[thick, ->] (4.1, -4) to [bend right] node[midway, below] {$\varphi_V \circ f \circ \varphi_U^{-1}$} (10.4, -4);

\end{tikzpicture}
