\begin{tikzpicture}
\draw (0,0) to[bend left] (0,3) to[bend left] (5,3) node[above] {$M$} to[bend right] (5, 0) to[bend right] (0,0);

\draw[fill = red, opacity = 0.4] (1.5,2) ellipse (0.7cm and 0.5cm) node[above] (U) {$U$};
\draw[fill = blue, opacity = 0.4] (2.8,2.2) ellipse(1cm and 1.3cm)  node[above] (V) {$V$};

\begin{scope}
\clip (1.5,2) ellipse (0.7cm and 0.5cm);
\clip (2.8,2.2) ellipse(1cm and 1.3cm);

\fill[pattern = north east lines, pattern color = blue!50!red] (0,0) rectangle (5,3);
\end{scope}

\draw (8,3) circle[radius = 1cm] node[below] (FU) {};
\draw (8,0) circle[radius = 1cm] node[below] (FV) {};

\draw[->, red, thick] (U) to[bend left] node[midway, above, sloped] {$\varphi_u$} (FU);
\draw[->, blue, thick] (V) to[bend right] node[midway, above, sloped] {$\varphi_v$} (FV);

\begin{scope}
\clip (8,1.5) circle[radius = 1cm];
\fill[pattern = north east lines, pattern color = blue!50!red] (8,0) circle[radius = 1cm];
\fill[pattern = north east lines, pattern color = blue!50!red] (8,3) circle[radius = 1cm];
\end{scope}

\node[red!50!blue] at (8,2.7) {$\varphi_u(U\cap V)$};
\node[red!50!blue] at (8,0.3) {$\varphi_v(U\cap V)$};

\draw[red!50!blue, ->] (8,2) to[bend left] node[midway, right] {$\varphi_v \circ \varphi_u^{-1}$} (8,1);

\end{tikzpicture}
