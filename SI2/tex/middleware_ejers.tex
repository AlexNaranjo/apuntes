
  \begin{problem}[1]
  Diseñar, a nivel de bloques, un sistema por el cual un \textit{middleware} pudiera soportar redundancia en un servidor de archivos planos (tipo disco
  compartido) de modo transparente a la aplicación y los servidores
  que intervienen en la conexión.
  

  \solution

  Olakase

  \end{problem}

  \begin{problem}[2]
  Uno de los principales problemas que tiene que tratar cualquier
\textit{middleware} que comunique ordenadores de distinto tipo es la transparencia del formato
  de representación interno de los datos en cada componente de la
  red. Estudiar las ventajas e incovenientes de cada una de estas tres posibles
  alternativas en distintas situaciones de sistemas distribuidos:
    \begin{itemize}
    \item Convertir todos los datos al formato interno de uno de los componentes
    de la red.
    \item Convertir todos los datos a un formato intermedio de intercambio.
    \item No realizar ninguna conversión en el \textit{Middleware}, y dejar que cada
aplicación realice las conversiones que considere oportunas.
\end{itemize}
    \solution

    Olakase

    \end{problem}

  \begin{problem}[3]
  En un sistema de comunicaciones mediante RPCs, estudiar el lugar adecuado
para introducir la función de conversión del formato de representación de los
datos descrita en el problema anterior. Nota: Basarse en la figura de la
transparencia número 18 del guión de la clase de teoría.
  \solution

  Olakase

  \end{problem}

  \begin{problem}[4]
  Sugerir alguna alternativa al servicio \textit{portmapper} empleado en la
comunicación mediante RPCs para conocer la dirección (puerto) del servidor
con el que se desea comunicar, basado en alguno de los servicios que puede
desempeñar un \textit{middleware}.
  \solution

  Olakase

  \end{problem}

  \begin{problem}[5]
  Un determinado sistema distribuido requiere que cada servidor autentique
  la conexión de sus clientes mediante la introducción de un
  identificador de usuario y una contraseña. Supuesto que posee un
  \textit{middleware} genérico, diseñar sobre él un servicio que permita a las
aplicaciones clientes realizar una validación única de usuario y contraseña,
independientemente del número de servicios que sea necesario utilizar.
  \solution

  Olakase

  \end{problem}

  \begin{problem}[6]
  Partiendo del esquema de comunicación entre programas a través de la
interfaz \textit{socket} presentado en la transparencia 12 del guión de las
clases de teoría, ampliar el esquema correspondiente al programa servidor para
que sea capaz de atender conexiones simultáneas de varios programas clientes.
Sugerencia: Utilizar una tarea en el servidor por cada conexión.
  \solution

  Olakase

  \end{problem}

  \begin{problem}[7]
  Un sistema de control de inventario central recibe los movimientos de
mercancía que se realizan en su red de almacenes, y de ellos debe ser capaz en
todo momento de conocer la cantidad de cada producto que existe en toda la red.
Proponer el mecanismo de comunicaciones que se considere más adecuado para
realizar estos envíos, considerando distintos casos:
  \begin{itemize}
    \item Todos los sistemas operan simultáneamente, y disponen de enlaces de
comunicaciones dedicados.
    \item Todos los sistemas operan simultáneamente, pero los enlaces de que disponen
son conmutados.
    \item Los sistemas tienen distinto horario de funcionamiento.
   \end{itemize}
    \solution

    Olakase

    \end{problem}

  \begin{problem}[8]
  Nombrar casos de comunicación entre aplicaciones en los que sea
preferible emplear colas no persistentes en lugar de colas persistentes.
Razonar la respuesta.
  \solution

  Olakase

  \end{problem}

  \begin{problem}[9]
  Enumerar las ventajas e inconvenientes que puede tener sustituir un mecanismo
  de comunicación entre procesos interno de un sistema operativo (áeras
  de memoria compartidas, archivos, \textit{named pipes}, etc.) por colas locales
de \textit{MQSeries} para comunicar dos aplicaciones en el mismo ordenador.
Justificar brevemente cada una de ellas.
  \solution

  Olakase

  \end{problem}

  \begin{problem}[10]
  Un sistema de directorio de nombres jerárquico consta de un nodo raíz, que
denominaremos A, y tres nodos secundarios que dependen de él, que denominaremos
B, C y D, respectivamente. No existe replicación de la información en ninguno
de los servidores de nombres de la estructura, de modo que cada servidor sólo
contiene la información de las estaciones que dependen de él. Expresar el flujo
de mensajes que debe tener lugar para que una estación del nodo B, que
denominaremos B1, pueda recuperar la información de directorio de una estación
dependiente del nodo C, denominada C1.
  \solution

  Olakase

  \end{problem}

  \begin{problem}[11]
  Determinar la tolerancia mínima de reloj que es necesario considerar
  debido a la propagación de la información por el medio físico en un sistema
  que sincronice desde un servidor de tiempo central los relojes de todas
  sus estaciones en los siguientes casos:
  \begin{itemize}
    \item Entorno de red de área local de un tamaño máximo de 500 m.
    \item Entorno de red de área extendida, máxima distancia de 600 Km.
    \item Entorno de red transoceánica por cable coaxial, máxima distancia entre
nodos de 10.000 Km.
    \item Red VSAT \textit{(Very Small Aperture Terminal}, red de comunicaciones vía
satélite) con nodo de retransmisión en un satélite en la órbita geoestacionaria
(36.000 Km. sobre el ecuador).
  \end{itemize}
  \paragraph{Notas: }
  - Considerar la velocidad de propagación de un campo electromagnético 
en un cable aproximadamente igual a 2/3 de la velocidad de la luz en el 
vacío.

  - No se consideran efectos de elementos intermedios de la comunicación,
  ni a nivel físico (amplificadores,  regeneradores de señal) ni a niveles
  superiores (puentes o \textit{routers}).
  
  \solution

  \end{problem}

  \begin{problem}[12] A efectos de asignación de nombres a los distintos recursos
  que lo componen, un determinado sistema distribuido se encuentra dividido
  en distintos dominios administrativos, organizados de modo jerárquico
  según al esquema: 

  \begin{center}
  \includegraphics[width=1\textwidth]{img/si2-t4-ej-dom1.png}
  \label{Subnormalidad.}
  \end{center}

  Los nodos en cursiva representan ordenadores, y los nodos en negrita, los dominios.
  

  Cada dominio tiene un servidor de nombres propio, que reside en un ordenador
    cuyo nombre coincide con el del dominio, con capacidad de almacenamiento local
    de resultados de consultas a otros dominios (cache). Inicialmente se supone que
    todas las caches de los dominios se encuentran vacías.
  \begin{itemize}
    \item Poner los nombres completos en el dominio global de cada uno de los
      ordenadores representados en cursiva en la figura.
    \item Detallar los mensajes que serán necesarios y entre qué sistemas deben
        circular para que el ordenador atlas localice el servidor salarios en el
        directorio a partir de su nombre en la red.
      \item Inmediatamente después de la anterior consulta, el ordenador axis necesita
          establecer una conexión con salarios. Indicar el flujo de mensajes que ocurrirá
        para que pueda localizarlo en el directorio.
      \item Supuesto que el sistema de nombres que se emplea sigue el estándar X.500,
            nombrar:
            
              \subitem Ordenadores que contendrán un \textit{Directory User Agent}.
              \subitem Ordenadores que contendrán un \textit{Directory System Agent}.
              \subitem Tres parejas de ordenadores entre las que se empleará un \textit{Directory Access Protocol}.
              \subitem Tres parejas de ordenadores entre las que se empleará un \textit{Directory System Protocol}.
      \item Proponer un sistema de comunicaciones (\textit{peer to peer}orientado a conexión, no orientado a conexión, \textit{Remote Procedure Calls},
 colas de mensajes) para producir los intercambios de mensajes de 
resolución de nombres en el directorio, y razonar la respuesta.

\end{itemize}

\solution


Olakase

\end{problem}

      
  \begin{problem}[13]
  Se desea realizar un servidor para una red de área local que actúe como
punto focal de recepción de alarmas que se produzcan en las estaciones de
trabajo ante situaciones de diversos tipos (conexión de estación, fallos de
programas, errores en disco,introducciones de contraseñas equivocadas, etc.).

    Enumerar los mecanismos de comunicaciones que se pueden emplear para
enlazar los clientes con el servidor para realizar esta función u otras
similares.
\begin{itemize}
    \item Valorar el empleo de cada uno de los mecanismos anteriores para realizar la
aplicación, y elegir la que se considere más apropiada a este caso, razonando
la respuesta.
    \item Si el prototipo de función que se desea utilizar en las estaciones clientes
para enviar una alerta es el siguiente:
    \begin{verbatim}
long alerta (
char tipo_alerta,      // Tipo de alerta que se ha producido
char nivel_gravedad,   // Nivel de gravedad de la misma
char * datos_adicionales,// Texto informativo dado por el cliente
long * codigo_accion   // Acción recomendada por el servidor
);                     //  para resolver la situación.
\end{verbatim}
    en la que el valor que retorna la función indica si se ha completado
correctamente o no la función, tanto por motivos de la red como del servidor,
definir:
    \begin{itemize}
      \item Una estructura de mensaje apropiada para la comunicación entre cliente y
servidor.
      \item Explicar el proceso de \textit{Parameter Marshalling} que será necesario
realizar en el cliente antes del envío del mensaje. (Sugerencia: emplear C o
pseudocódigo, comentado).
      \item Explicar el proceso de \textit{Parameter Unmarshalling} que será necesario
realizar en el cliente al recibir el mensaje de contestación. (Igual sugerencia).
    \end{itemize}
    \end{itemize}
      \solution

      Olakase

      \end{problem}

  \begin{problem}[14]
  A continuación se presentan cuatro casos de sistemas servidores.
  \begin{itemize}
    \item Servidor de archivos Unix para una red de ordenadores personales en MS-DOS.
    Los clientes deben ver el disco del servidor como si fuera un disco local.
    \item Servidor de envío diferido de fax. El servidor del que se dispone permite a
los clientes conectados a él a través de una red de comunicaciones enviar un
fax desde su estación, compartiendo una única línea de teléfono y aprovechando
las horas de menor coste de las llamadas telefónicas.
    \item Servidor de emulación de terminales. Permite a sistemas clientes
ASCII acceder al ordenador servidor, que trabaja con código EBCDIC, como si se
encontraran en una pantalla local del mismo.
    \item Servidor de validación de contraseñas para una red de ordenadores
homogénea. Recibirá un identificador de usuario y contraseña, debidamente
cifrados, y contestará al cliente únicamente si ambos son correctos, enviando un mensaje de reconocimiento.
  \end{itemize}
  Para cada uno de ellos se pide:
  \begin{itemize}
    \item Elegir razonadamente el mecanismo de transporte (\textit{peer to peer} orientado a conexión, \textit{peer to peer }no orientado a conexión, RPCs, colas de menajes) que sería aconsejable utilizar para conectar a ellos los sistemas clientes.
    \item Indicar, si es necesario, las funciones adicionales que 
habría que implementar sobre el protocolo elegido para garantizar que el
 \textit{middleware }resultante garantizara la transparencia de acceso del sistema distribuido.
  \end{itemize}
    \solution

    Olakase

    \end{problem}


  
  \begin{problem}[15]
  Se desea construir un servidor de objetos distribuidos para 
implementar un diccionario on-line con hipertexto. Cada palabra definida
 por el diccionario es un objeto. Los objetos están almacenados en 
archivos. Cada archivo tiene una tabla con los nombres de los objetos 
que contiene y un puntero al lugar donde está almacenado. Cada objeto 
contiene información sobre su tamaño, los atributos que posee y los 
tipos de datos correspondientes, que pueden ser:


  a)	vectores de enteros

  b)	vectores de strings.
  El servidor asigna a cada cliente un hilo y se comunica con él mediante una tubería
  (pipe)
  \begin{itemize}
      \item ¿Qué operaciones posibles realizará el servidor, y qué información debe enviarle el cliente para solicitarlas?
    \item ¿Qué información debe devolver el servidor?
    \item Definir una estructura de mensajes adecuada, para que un objeto pase a través de la tubería.
 \end{itemize}

 \solution

 Olakase

 \end{problem}


  
  \begin{problem}[16]
  (Coulouris 10.7) Un servidor B de NTP recibe un mensaje del servidor A
  a las 16:34:23.480 llevando una marca de tiempo 16:34:13:430 y lo responde.
  A recibe el mensaje a las 16:34:15.725, llevando una marca de tiempo 16:34:25.7
  de B. Estimar la deriva entre B y A y la precisión de la estimación.
  \solution

  Olakase

  \end{problem}

  \begin{problem}[17]
  Los protocolos de comunicaciones pueden ser orientados a conexión o no
  orientados a conexión. Describir los pros y los contras de cada uno de
  ellos para su utilización como medio de transporte de un sistema distribuido,
  e identificar el tipo más adecuado para realizar accesos a un servidor
  iterativo o a un servidor concurrente.
  \solution

  Olakase

  \end{problem}

  \begin{problem}[18]
  Los servidores de un sistema distribuido pueden ser de dos tipos: sin estado
  \textit{(stateless)}, es decir, que no recuerdan la historia de peticiones anteriores realizadas
  por el cliente; o con estado \textit{(statefull)}, en caso contrario. Identificar el tipo de protocolo de transporte más
  adecuado (orientado o no orientado a conexión) para realizar los accesos
  a cada uno de estos tipos de servidores.
  \solution

  Olakase

  \end{problem}

  \begin{problem}[19]
  Un servicio de autenticación en una red de área local funciona 
mediante un mecanismo de comunicación basado en Remote Procedure Calls, 
RPCs genéricas. Dispone de las siguientes funciones:
  \begin{itemize}
    \item Autenticación de usuario: Recibe como parámetros un 
identificador de usuario y su contraseña, y devuelve un código de 
retorno 0 si usuario y contraseña son correctos, y -1 en caso contrario.
    \item Cambio de contraseña: Recibe como parámetros un 
identificador de usuario, su contraseña actual y la nueva contraseña que
 se desea registrar. Devuelve un código de retorno 0 si se ha realizado 
correctamente la actualización, y -1 en caso contrario.
    \item Obtención de lista de privilegios asociados a un usuario: Recibe como parámetro
    un identificador de usuario. Si dicho usuario existe en el sistema, devuelve
    un código de retorno 0 y dos listas de longitud variable: la primera con
    todos los atributos definidos en el sistema para el usuario, separados
    por espacios; y la segunda con los nombres de todos los servidores de la
    red a los que tiene acceso, también separados por espacios. Si el usuario
    no existe, devuelve un código de retorno -1.
  \end{itemize}
  Los identificadores de usuario, contraseñas, atributos de usuario y nombres
  de servidores son cadenas de caracteres ASCII que tienen un tamaño máximo
  de 16 caracteres.
  \begin{itemize}
    \item Suponiendo que la red es homogénea (el mismo tipo de sistema 
para clientes y servidor), proponer una estructura de mensaje de 
petición y una estructura de mensaje de respuesta para la comunicación 
entre client stub y server stub adecuado a las tres RPCs. (Describir la 
estructura en pseudocódigo o en lenguaje C, de modo que quede 
suficientemente clara).
    \item Introducir los cambios necesarios en el mensaje de petición
 de la RPC de autenticación de usuario para soportar una red no 
homogénea (clientes y servidor de distintos tipos).
    \item Comentar los problemas de seguridad que presenta el diseño 
elegido para esta aplicación, y proponer alternativas para resolverlo.
     \end{itemize} 
  \solution

  Olakase

  \end{problem}
  
  \begin{problem}[20]
  Los ordenadores de una empresa están conectados siguiendo el modelo cliente
servidor, de acuerdo con la siguiente organización jerárquica de dominios
administrativos: 
\begin{center}[hbt]
\includegraphics[width=1\textwidth]{img/si2-t4-ej-dom2.png}
\end{center}
  
   Las hojas del árbol representan ordenadores, los restantes nodos 
dominios. Cada dominio tiene un servidor de nombres que reside en un 
ordenador, cuyo nombre coincide con el del dominio, con capacidad de 
almacenamiento local de resultados de consultas a otros dominios \textit{(cache)}. Se supone que al principio las caches están todas vacías.
  \begin{itemize}
    \item Escribir los nombres completos en el dominio global de todos los ordenadores
    situados en las hojas del árbol.
    \item Detallar los mensajes necesarios para que el ordenador jupiter localice
    el servidor seguridad en el directorio a partir de su nombre en la red.
    \item Inmediatamente después de la consulta anterior, el 
ordenador saturno desea localizar el servidor seguridad. Indicar el 
flujo de mensajes correspondiente.
    \item Suponemos que el sistema de nombres utiliza el estándar X500. Decir qué ordenadores contienen un \textit{Directory User Agent} y cuáles contienen un \textit{Directory System Agent}.
    \item Escribir tres parejas de ordenadores entre los que se utilice el \textit{Directory Access Protocol}.
    \item Escribir tres parejas de ordenadores entre los que se utilice el \textit{Directory System Protocol}.
    \item Para cada uno de los cuatro servidores (ficheros, 
impresora, correo y seguridad) elegir razonadamente el mecanismo de 
transporte aconsejable para conectar a ellos los ordenadores clientes: 
peer to peer orientado a conexión, peer to peer no orientado a conexión,
 RPC o MOM.
  \end{itemize}
\solution
Olakase

\end{problem}